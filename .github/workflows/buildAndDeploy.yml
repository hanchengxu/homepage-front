name: Build and Deploy HomePage
on:
 push:
  branches:
    - master
  paths-ignore:
    - './github/*'
 pull_request:
  branches:
    - master
  paths-ignore:
    - './github/*'
# on:
#   repository_dispatch:
# on:
#   watch:
#     types: started
jobs:
 build-and-deploy:
  runs-on: ubuntu-latest # æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨æœ€æ–°çš„ubuntuç³»ç»Ÿ
  steps:
  - name: Checkout
    uses: actions/checkout@master # å°†ä»£ç æ‹·è´åˆ°è™šæœºä¸­
    with:
     persist-credentials: false
  - name: Install and Build âš™ï¸
    run: |
     npm install
     npm run-script build
  - name: Deploy github Page ğŸš€
    uses: JamesIves/github-pages-deploy-action@releases/v3
    with:
     ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }} # ä½¿ç”¨åˆšæ–°å»ºçš„secret
     BRANCH: gh-pages # å­˜æ”¾äº§ç‰©çš„åˆ†æ”¯åç§°
     FOLDER: dist # å­˜æ”¾buildåäº§ç‰©çš„ç›®å½•
